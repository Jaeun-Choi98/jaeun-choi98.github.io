---
layout: post
title: 'Content-Typeê³¼ HTTP ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬(feat. gorilla)'
tags: ['Go', 'rest']
date: 2025-03-11 11:50:00
---

'Content-Typeê³¼ HTTP ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬(feat. gin)' ê¸€ì—ì„œëŠ” gin í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ë¦¬í•˜ì˜€ì§€ë§Œ, ì´ë²ˆ ê¸€ì—ì„œëŠ” 'gorilla'ë¥¼ ì‚¬ìš©í•œ ë°©ë²•ë“¤ì„ ì •ë¦¬í•˜ë ¤ê³  í•©ë‹ˆë‹¤.

<br>
<br>

# ğŸ“Œ 1. Content-Type ë³„ ìš”ì²­ ì²˜ë¦¬ ë°©ë²•

---

### ğŸ”¹ `text/plain`

```go
func  handlePlainText(w http.ResponseWriter, r *http.Request) {
    body, _ := io.ReadAll(r.Body)
    fmt.Fprintf(w, "Received text: %s", string(body))
}

```

### ğŸ”¹ `application/x-www-form-urlencoded`

```go
func  handleURLEncoded(w http.ResponseWriter, r *http.Request) {
    r.ParseForm()
    name := r.FormValue("name")
    age := r.FormValue("age")
    fmt.Fprintf(w, "Name: %s, Age: %s", name, age)
}

```

ğŸ”¹ `application/json`

```go
type User struct {
    Name string  `json:"name"` Age int  `json:"age"` } func  handleJSON(w http.ResponseWriter, r *http.Request) { var user User
    json.NewDecoder(r.Body).Decode(&user)
    fmt.Fprintf(w, "Name: %s, Age: %d", user.Name, user.Age)
}

```

### ğŸ”¹ `multipart/form-data` (íŒŒì¼ ì—…ë¡œë“œ)

```go
func  handleMultipart(w http.ResponseWriter, r *http.Request) {
    r.ParseMultipartForm(10 << 20) // 10MB file, handler, _ := r.FormFile("upload") defer file.Close()
    fmt.Fprintf(w, "Uploaded file: %s (%d bytes)", handler.Filename, handler.Size)
}

```

### ğŸ”¹ `application/xml`

```go
type User struct {
    Name string  `xml:"name"` Age int  `xml:"age"` } func  handleXML(w http.ResponseWriter, r *http.Request) { var user User
    xml.NewDecoder(r.Body).Decode(&user)
    fmt.Fprintf(w, "XML Received - Name: %s, Age: %d", user.Name, user.Age)
}

```

<br>
<br>

# ğŸ” 2. Path ë° Query íŒŒë¼ë¯¸í„° ì²˜ë¦¬

---

### âœ… Path íŒŒë¼ë¯¸í„° (`/users/{id}`)

```go
func  getUser(w http.ResponseWriter, r *http.Request) {
    vars := mux.Vars(r)
    id := vars["id"]
    fmt.Fprintf(w, "User ID: %s", id)
}

```

### âœ… Query íŒŒë¼ë¯¸í„° (`/search?keyword=go`)

```go
`func  search(w http.ResponseWriter, r *http.Request) {
    keyword := r.URL.Query().Get("keyword")
    fmt.Fprintf(w, "Search keyword: %s", keyword)
}

```

<br>
<br>

# ğŸ“¤ 3. ì‘ë‹µ ì²˜ë¦¬

---

### âœ… JSON ì‘ë‹µ

```go
func  sendJSON(w http.ResponseWriter, r *http.Request) {
    w.Header().Set("Content-Type", "application/json")
    json.NewEncoder(w).Encode(map[string]interface{}{ "status": "ok", "data": "Hello, JSON!",
    })
}

```

### âœ… íŒŒì¼ ì‘ë‹µ (ë‹¤ìš´ë¡œë“œ)

```go
func  sendFile(w http.ResponseWriter, r *http.Request) {
    filePath := "static/sample.pdf" w.Header().Set("Content-Disposition", "attachment; filename=sample.pdf")
    w.Header().Set("Content-Type", "application/pdf")
    http.ServeFile(w, r, filePath)
}

```

### âœ… HTML ì‘ë‹µ (ì§ì ‘ ë¬¸ìì—´ í˜¹ì€ í…œí”Œë¦¿)

```go
func  sendHTML(w http.ResponseWriter, r *http.Request) {
    w.Header().Set("Content-Type", "text/html")
    w.Write([]byte("<h1>Hello, HTML!</h1>"))
}

```

ë˜ëŠ”:

```go
func  sendTemplate(w http.ResponseWriter, r *http.Request) {
    tmpl, _ := template.ParseFiles("templates/page.html")
    tmpl.Execute(w, map[string]string{"Title": "Page", "Message": "Welcome!"})
}

```
