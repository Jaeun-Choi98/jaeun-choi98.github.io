---
layout: post
title: 'Spring'
tags: ['Spring']
date: 2024-04-14 11:50:00
---

회사에서 전자정부 프레임워크를 사용하기에 Spring을 공부하고 정리하려 합니다. 전자정부 프레임워크는 Spring과 다른 컴포넌트들로 이뤄져 있기 때문에, Spring 프레임워크의 기본 개념을 알고 있는 것이 편리할거라 생각합니다. Spring 프레임워크는 매우 방대하므로 키워드 별로 정리하고자 합니다. 제가 공부하고 이해한 것들을 정리한 내용이라 틀릴 수도 있습니다.

<br>
<br>

### **어노테이션**

---

코드 사이에서 주석처럼 쓰이면서 특별한 의미, 기능을 수행합니다. 컴파일러타임 또는 런타임에 작동합니다. 문법적인 오류를 잡거나, 런타임에 특정 기능을 실행하도록 합니다.

<br>
<br>

### **DI 와 IoC**

---

DI는 클래스 간 의존 관계에서 한 클래스가 다른 클래스의 객체를 생성하여 주입하는 것을 의미합니다. 이 때, 개발자가 객체를 주입하는 것이 아니라 외부에서 해당 객체를 주입하고 관리하는 것을 IoC라고 합니다. Spring에서는 스프링 컨테이너가 이러한 역할을 수행합니다.

<br>
<br>

### **Bean**

---

빈은 스프링 컨테이너가 관리하는 객체를 말합니다. 빈을 정의하는 방법으로는 크게 3가지인 **Java 설정 클래스, XML 설정 파일, Component Scanning**이 있습니다.

XML 설정 파일에는 ‘\<bean\>’ 요소를 사용합니다.

Java 설정 클래스에는 ‘@Configuration, @Bean’ 어노테이션을 사용하여 빈을 정의합니다.

마지막으로, Component Scanning은 ‘@Component’ 어노테이션을 사용하여 빈을 정의하고 ‘Java 설정 클래스에서 @ComponentScan 이나 xml 파일에서 '\<context:component-scan\>’ 을 사용하여 활성화합니다.

<br>
<br>

### **의존 주입과 의존 자동 주입**

---

Java 설정 클래스 기반 빈으로 등록한다고 가정하고 의존 주입과 의존 자동 주입에 대해 정리하겠습니다. 기본적으로 @Bean을 등록할 때, 의존 객체를 명시적으로 주입해주어야 합니다.(이때, 생성자 방식과 세터 메서드 방식을 사용합니다) 하지만, ‘@Autowired’을 사용하면 자동적으로 의존 객체를 주입합니다. (이때, 생성자, 세터, 필드 방식을 사용합니다)

(주로 의존 자동 주입을 사용한다고 생각하면 될 것 같습니다.)

<br>
<br>

### **서블릿과 스프링 컨테이너**

---

서블릿 컨테이너인 아파치 톰캣은 서블릿을 생성하고 관리합니다. 이 서블릿은 주로 클라이언트로부터 요청을 받아들이고 처리하는 역할(요청 당 쓰레드를 생성)을 합니다. 그리고 이 서블릿이 스프링 컨테이너를 생성합니다. 따라서, 서블릿에 대한 설정에는 핸들러 맵핑, 핸들러 어댑터, 컨트롤러, 뷰 리졸버 등과 같은 주요 구성 요소에 대한 설정이 포함되어야 합니다. 이러한 설정은 **서블릿 컨텍스트**에 추가해서 web.xml에서 서블릿을 초기화할 때 사용됩니다.

추가로, **어플리케이션 컨텍스트(루트 컨텍스트)**에는 서블릿 컨텍스트에 설정된 빈들 외에 전역적으로 사용되는 빈들에 대한 설정이 포함됩니다. 이러한 빈들은 여러 서블릿에서 공유되거나 서블릿 컨텍스트의 범위를 넘어서 사용되는 경우에 유용합니다. 일반적으로 데이터베이스 연결, 서비스 계층의 빈, 보안 설정과 같은 전역적인 설정들이 루트 컨텍스트에 정의됩니다. 어플리케이션 컨텍스트 또한 web.xml이 로딩될 때, 사용됩니다.(어플리케이션 컨텍스트 설정에 따라 ApplicationContext 서블릿이 생성되고, 이 서블릿은 서블릿컨테이너에 단 한 번만 초기화 됩니다.)

서블릿 컨텍스트과 루트 컨텍스트는 설정 파일(xml)이나 설정 클래스(Java)로 설정하면 됩니다.

<br>
<br>

### **뷰 리졸버와 정적 리소스**

---

기본적으로 뷰 리졸버와 정적 리소스 위치는 ‘webapp/’(content directory) 에서 찾습니다.(Spring Boot에서는 다릅니다.) 서블릿 컨텍스트에서 수정할 수 있습니다.

정적 리소스는 WAS의 웹 서버가 클라이언트의 요청을 데이터와 단순 매칭해서 되돌려 줍니다.
<br>
<br>

### **Spring Boot**

---

스프링 부트는 최소한의 작업으로 스프링 프로젝트를 시작할 수 있도록 돕는다. 특히 Spring MVC 프로젝트의 경우, 톰캣과 같은 서버를 설치하지 않아도 내장 서버를 이용해서 웹 어플리케이션을 바로 실행할 수 있다.

spring-boot-starter-web, @SpingBootApplication은 개발자의 많은 부분을 도와준다. 스타터 웹 모듈은 디스패처서블릿 등에 대한 설정을 자동 생성하는 기능을 제공한다. @SpingBootApplication 어노테이션은 웹 관련 자동 설정 기능을 활성하하고, 컴포넌트 스캔 기능도 활성화한다.
